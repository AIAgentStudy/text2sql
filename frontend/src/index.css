@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto,
    'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR',
    'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  line-height: 1.6;
  font-weight: 400;
  color: #f8fafc;
  background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
  background-attachment: fixed;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
  background-attachment: fixed;
}

/* 글래스모피즘 유틸리티 */
@layer components {
  .glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-light {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  /* 그래디언트 버튼 */
  .btn-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 text-white font-medium;
    @apply rounded-xl px-6 py-2.5;
    @apply shadow-lg shadow-primary-900/30;
    @apply hover:from-primary-500 hover:to-primary-600 hover:-translate-y-0.5 hover:shadow-glow;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:ring-offset-2 focus:ring-offset-dark-800;
    @apply active:translate-y-0 active:shadow-md;
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-primary-600 disabled:hover:to-primary-700 disabled:hover:translate-y-0 disabled:hover:shadow-lg;
  }

  .btn-secondary {
    @apply bg-surface/50 border border-surface-border text-content-secondary font-medium;
    @apply rounded-xl px-6 py-2.5;
    @apply hover:bg-surface-hover hover:text-content-primary hover:-translate-y-0.5;
    @apply focus:outline-none focus:ring-2 focus:ring-surface-border focus:ring-offset-2 focus:ring-offset-dark-800;
    @apply active:translate-y-0;
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0;
  }

  /* 액센트 버튼 */
  .btn-accent {
    @apply bg-gradient-to-r from-accent-500 to-accent-600 text-white font-medium;
    @apply rounded-xl px-6 py-2.5;
    @apply shadow-lg shadow-accent-700/30;
    @apply hover:from-accent-400 hover:to-accent-500 hover:-translate-y-0.5 hover:shadow-glow-accent;
    @apply focus:outline-none focus:ring-2 focus:ring-accent-500/50 focus:ring-offset-2 focus:ring-offset-dark-800;
    @apply active:translate-y-0 active:shadow-md;
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0;
  }

  /* 고스트 버튼 */
  .btn-ghost {
    @apply bg-transparent text-content-secondary font-medium;
    @apply rounded-xl px-4 py-2;
    @apply hover:bg-surface-hover hover:text-content-primary;
    @apply focus:outline-none focus:ring-2 focus:ring-surface-border;
    @apply transition-all duration-200;
  }

  /* 카드 스타일 */
  .card {
    @apply bg-surface/60 backdrop-blur-xl border border-surface-border rounded-2xl shadow-xl;
  }

  .card-hover {
    @apply card hover:bg-surface-light hover:border-primary-500/30 transition-all duration-300;
  }

  /* 입력 필드 스타일 */
  .input-dark {
    @apply bg-dark-700/50 border border-surface-border text-content-primary;
    @apply placeholder-content-tertiary;
    @apply rounded-xl px-4 py-3;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50;
    @apply focus:bg-dark-700;
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-dark-800/50;
  }

  /* 메시지 버블 */
  .message-user {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 text-white;
    @apply rounded-2xl rounded-br-md;
    @apply shadow-lg shadow-primary-900/20;
  }

  .message-ai {
    @apply bg-dark-700/80 backdrop-blur-sm border border-surface-border text-content-primary;
    @apply rounded-2xl rounded-bl-md;
    @apply relative;
  }

  .message-ai::before {
    content: '';
    position: absolute;
    left: 0;
    top: 12px;
    bottom: 12px;
    width: 3px;
    border-radius: 2px;
    background: linear-gradient(180deg, #06b6d4, #7c3aed);
    opacity: 0.6;
  }

  /* 코드 블록 */
  .code-block {
    @apply bg-dark-900/80 rounded-xl p-4 font-mono text-sm;
    @apply border border-surface-border;
    @apply overflow-x-auto;
  }

  .code-block code {
    @apply text-emerald-400;
  }

  /* 선택 박스 (셀렉트) */
  .select-dark {
    @apply bg-dark-700/50 border border-surface-border text-content-primary;
    @apply rounded-xl px-4 py-3;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50;
    @apply transition-all duration-200;
    @apply cursor-pointer;
  }

  .select-dark option {
    @apply bg-dark-800 text-content-primary;
  }

  /* 스크롤바 커스텀 */
  .scrollbar-dark {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }

  .scrollbar-dark::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-dark::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-dark::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
  }

  .scrollbar-dark::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  /* 그래디언트 텍스트 */
  .text-gradient {
    @apply bg-gradient-to-r from-primary-400 to-primary-600 bg-clip-text text-transparent;
  }

  .text-gradient-mixed {
    @apply bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent;
  }

  /* Glow 효과 */
  .glow {
    @apply shadow-glow;
  }

  .glow-sm {
    @apply shadow-glow-sm;
  }

  /* 상태 표시 점 */
  .status-dot {
    @apply h-2.5 w-2.5 rounded-full transition-all duration-300;
  }

  .status-dot-connected {
    @apply bg-success-500;
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
    animation: pulseSubtle 2s ease-in-out infinite;
  }

  .status-dot-disconnected {
    @apply bg-content-muted;
  }

  @keyframes pulseSubtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  /* 테이블 스타일 */
  .table-dark {
    @apply w-full;
  }

  .table-dark thead {
    @apply bg-surface/50;
  }

  .table-dark th {
    @apply px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-content-secondary;
    @apply border-b border-surface-border;
  }

  .table-dark tbody {
    @apply divide-y divide-surface-border;
  }

  .table-dark tbody tr {
    @apply hover:bg-surface-hover transition-colors;
  }

  .table-dark td {
    @apply px-4 py-3 text-sm text-content-primary;
  }
}

/* 애니메이션 그래디언트 배경 */
@layer utilities {
  .bg-animated-gradient {
    background: linear-gradient(-45deg, #0f0f1a, #1a1a2e, #16213e, #1e2746);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
}

/* 접근성: 감소된 모션 설정 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
